Анализ сценариев взаимодействия
I. LLM Comparator → Органайзер
1) Сохранение промпта (📝 у поля запроса)
Логика:
    • Расположение: рядом с экспортом JSON 
    • Сохраняет чистый текст промпта без форматирования 
    • Метаданные: timestamp, возможно теги 
Вопросы:
    • Куда сохранять:  Создавать корневую заметку, Не спрашивая 
    • Автоматическое имя: "Prompt - [первые 30 символов]"
    • Дедупликация: если промпт уже сохранен - создавать дубль.
2) Сохранение одного ответа (📝 в журнале ответа)
Детали:
    • Каждый ответ модели имеет свою иконку 📝 
    • Что сохраняем:  
        ◦ Ответ + промпт (Первые 100 слов) + метаданные модели (Дата, url) 
сохранять структурированно flat заметку::
"GPT-4 ответ на промпт ...Первые 100 слов ...
[Текст]
---
3) Сохранение всех ответов (📝 рядом с Use as Input)
Сценарий: сравнение 3+ моделей, хочу сохранить всю сессию
Формат:
    • Иерархия заметок (структурированная): 
Ответы LLM’s  на промпт ...Первые 100 слов ...  
2025-12-24 14:30
  ├─ Prompt
  ├─ GPT-4 response
  ├─ Claude response
  └─ Gemini response
4) Drag & Drop из Comparator
Что можно тащить:
    • Выделенный текст из промпта 
    • Выделенный фрагмент из ответа модели 

Поведение:
    • Drag начинается → появляется ghost элемент 
    • Hover над sidebar → подсветка drop-зон: 
        ◦ Пустое место → корневая заметка 
        ◦ На существующую заметку → дочерняя 
    • Drop → создание заметки 
Метаданные при drag:
    • Из промпта: просто текст 
    • Из ответа: текст +  Дата, url
II. Органайзер → LLM Comparator
Выделение заметки → автозаполнение промпта
Триггер: клик по заметке в sidebar
Поведение:
    • Содержимое заметки копируется в поле запроса Comparator 
    • Существующий текст в промпте: 
        ◦ Показывается подтверждение "Replace current prompt?"
Сложные случаи:
А) Заметка с иерархией:
React Hooks Question
  ├─ Context details
  └─ Specific examples
Что попадает в промпт - Только выбранная заметка, не имеет значения её Статус в Иерархия
Б) Заметка - сохраненный ответ модели - Все заметки одного вида и неважно как туда попала информация. Это сохранённый ответ или Отражается как любой другой текст.
Это очень важный идеологический момент : Любой текст любой заметки фактически может сразу  же быть отправленным как запрос.

III. Web-страницы → Органайзер
Drag & Drop с любого сайта.


Технические вопросы:
1) Активация sidebar на странице:
    • Hotkey (Ctrl+Shift+S) для toggle
    • и только по клику на иконку расширения?  ( Надо заложить возможность)
    • Расширение инжектит sidebar во все страницы? ( Надо заложить возможность ?)
      
2) Захват выделения:
    • Content script ловит mouseup → проверяет window.getSelection() 
    • Если выделено >5 символов → появляется floating button "Save to Notes"? 
    • Или сразу можно начать drag (без кнопки)? 
3) Drop на sidebar:
    • Sidebar должен быть видимым 
    • Drop-зоны подсвечиваются 
    • Создается заметка с текстом + метаданные источника: 
[выделенный текст]

---
Source: https://example.com/article
Title: "Article Title"
Saved: 2025-12-24 14:35
4) Конфликт с iframe/SPA:
    • Некоторые сайты блокируют selection API 
    • Защищенный контент (Netflix, платные статьи) 
    • Fallback: показать уведомление "Cannot capture from this page" 
Критичные UX-вопросы
1) Визуальная обратная связь
    • Анимация "текст улетает в sidebar" при сохранении 
    • Toast-уведомление "Saved to Notes" (2 сек) 
    • Highlight новой заметки в sidebar на 3 сек 
2) Undo/History
    • Случайно сохранил не то → нужен быстрый Undo 
    • Ctrl+Z в Comparator должен отменять последнее сохранение? 
    • Или отдельная кнопка "Undo last save" в sidebar? 
3) Конфликт фокуса
    • При клике на заметку (sidebar → Comparator): 
        ◦ Фокус переходит в поле промпта? 
        ◦ Или остается в sidebar для продолжения навигации? 
4) Batch операции
    • Выделил 5 заметок в sidebar → "Send All to Prompt" 
    • Как конкатенировать? С разделителями ---? 
    • Нумерация: 1) ... 2) ... 3) ...? 
Приоритеты реализации
Must have (v1):
    1. Сохранение промпта одной кнопкой 
    2. Сохранение ответа одной модели 
    3. Заметка → промпт (простой клик) 
    4. Drag текста с веб-страниц 
Should have (v2):
    1. Сохранение всех ответов сессии 
    2. Контекстное меню с опциями 
    3. Метаданные источников 
    4. Undo последнего сохранения 
Nice to have (v3):
    1. Умное извлечение (промпт vs ответ) 
    2. Автоматическая иерархия при сохранении сессии 
    3. Дедупликация промптов 
    4. Batch операции с мультивыделением 
Какой аспект детализировать дальше?

